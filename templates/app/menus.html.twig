{% extends 'layout.html.twig' %}

{% block sidebar '' %}
{% block title %}menus{% endblock %}

{% block body %}
    {% if menuCode is not defined %}
        {% set menuCode = 'survos_sidebar_menu' %}
    {% endif %}

<nav class="sidebar d-md-block bg-dark text-white collapse">
    {% set goal = block('goal') %}

    {% set test = knp_menu_render(menuCode, {
        'menu_code'     : menuCode,
        "template"      : "@SurvosBase/knp_menu.html.twig",
        "attributes"    : "mt-2 navbar navbar-dark",
        "currentClass"  : "active",
        "ancestorClass" : "ancestor-active justify-content-between",
        "branch_class"  : "nav-item branch justify-content-between",
        'firstClass'    : '',
        'lastClass'     : '',
        'leaf_class'    : 'nav-item',
        "allow_safe_labels": true,
    }) %}
    {{ goal|raw }}
    &nbsp; <br />
    <hr />
    {{ test|raw }}
</nav>
    <pre>{{ test|escape('html') }}</pre>
    <pre>{{ block('goal')|escape }}</pre>

{% endblock %}

{% block goal %}
<ul>
    <li class="nav-item">
    <div
            class="nav-link collapsed d-flex justify-content-between align-items-center"
            data-bs-toggle="collapse" data-bs-target="#submenu-pages">
        <div>
            <span class="sidebar-icon"><span class="far fa-file-alt"></span></span>
            <span class="sidebar-text">Test Collapse</span>
        </div>

        <div class="link-arrow"><span class="fas fa-chevron-right"></span></div>
    </div>


    <div class="multi-level collapse  " role="list"
         id="submenu-pages" aria-expanded="false">
        <ul class="flex-column nav">
            <li class="nav-item">
                <a class="nav-link" href="@@path/pages/examples/sign-in.html">
                    <span class="sidebar-text">Sign In</span>
                </a>
            </li>
        </ul>
    </div>
</li>
</ul>
{% endblock %}
